title Customer Management

bottomparticipants
actor User
participant authentication
participant Order Mgmt
entity Product
entity Inventory Item
database UserDB
database ProductDB
database InventoryDB

==sign in==
authentication<-User:sign in
activate User
activate authentication
authentication->*UserDB:check for user
activate UserDB

alt verified
authentication<--UserDB:return user data

deactivate UserDB
authentication-->User:access privileges
else unverified
User<--authentication:return login screen
deactivate authentication
deactivate User
end


==Record Bracelet Beads==

User->Product:choose bracelet name
activate User
activate Product
User->Product:select beads
User->Product:selects quantity
deactivate User

Product->ProductDB:searches for bracelet
activate ProductDB
Product<--ProductDB:status
deactivate Product
alt bracelet not found

Product->ProductDB:create bracelet
deactivate ProductDB
activate Product
Product->Inventory Item:check beads
deactivate Product
activate Inventory Item
Inventory Item->InventoryDB:check beads
activate InventoryDB
Inventory Item<--InventoryDB:status
deactivate InventoryDB
deactivate Inventory Item
alt bead not found

Inventory Item->InventoryDB:create bead
activate Inventory Item
activate InventoryDB
Inventory Item<--InventoryDB:bead created
deactivate Inventory Item
deactivate InventoryDB
end
end
Product->ProductDB:update bead qty
activate Product
Product->ProductDB:save product
deactivate Product
deactivate ProductDB

==Bracelet Calculations==
Order Mgmt->Product:requests products info
activate Order Mgmt
activate ProductDB
Product->ProductDB:requests products info
activate Product
Product<--ProductDB:list of products info
deactivate ProductDB
Order Mgmt<--Product:list of products info
deactivate Product
Order Mgmt->Order Mgmt:Calculates stock numbers
deactivate Order Mgmt

==sign out==
User->authentication:sign out
User<--authentication:login screen
